<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./styles.css" />
    <title>My Upcoming Movie</title>
  </head>
  <body>
    <header>
      <h1>my favourite upcoming movie</h1>
    </header>

    <section class="container">
      <div class="left">
        <iframe
          width="560"
          height="315"
          class="trailer"
          src="https://www.youtube.com/embed/uYPbbksJxIg"
          title="YouTube video player"
          frameborder="0"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen
        ></iframe>

        <div class="other-upcoming">
          <h2>Other Upcoming Movies</h2>

          <ul>
            <li>
              <img
                src="https://deadline.com/wp-content/uploads/2023/04/barbie-BARBIE_VERT_TSR_W_TALENT_2764x4096_DOM_rgb.jpg?w=800"
                alt=""
                width="200"
                height="290"
              />
              <h3>Barbie</h3>
              <p>21 July 2023</p>
            </li>

            <li>
              <img
                src="https://sportshub.cbsistatic.com/i/2023/05/24/7c99b26e-1dc4-448c-bfb8-9c251e79b28f/turtles-mutant-mayhem-character-posters.jpg?auto=webp&width=919&height=1152&crop=0.798:1,smart"
                alt="TMNT"
                width="200px"
                height="290"
              />
              <h3>TMNT: Mutant Mayhem</h3>
              <p>2 August 2023</p>
            </li>

            <li>
              <img
                src="./images/blue_beatles.jpeg"
                alt=""
                width="200px"
                height="290"
              />
              <h3>Blue Beatle</h3>
              <p>18 August 2023</p>
            </li>

            <li>
              <img
                src="./images/equalizer.jpeg"
                alt=""
                width="200px"
                height="290"
              />
              <h3>The Equalizer</h3>
              <p>1 September 2023</p>
            </li>

            <li>
              <img
                src="./images/paw-patrol.jpeg"
                alt="paw patrol"
                width="200px"
                height="290"
              />
              <h3>Paw Patrol</h3>
              <p>29 September 2023</p>
            </li>
          </ul>
        </div>
      </div>

      <div class="content">
        <div>
          <h1 class="movie-title">OPPENHEIMER - (2023)</h1>
        </div>

        <div>
          <h2>Genre</h2>
          <ul class="chips">
            <li>War</li>
            <li>Mystery</li>
            <li>History</li>
            <li>Historical Fiction</li>
            <li>Thriller</li>
            <li>Drama</li>
          </ul>
        </div>

        <div class="release">
          <h2>Releases in (21 July 2023):</h2>
          <ul class="count-down">
            <li>
              <label>Days</label>
              <h3 class="days">0</h3>
            </li>
            <li>
              <label>Hours</label>
              <h3 class="hours">0</h3>
            </li>
            <li>
              <label>Minutes</label>
              <h3 class="minutes">0</h3>
            </li>
            <li>
              <label>Seconds</label>
              <h3 class="seconds">0</h3>
            </li>
          </ul>
        </div>

        <div class="cast">
          <h2>Cast:</h2>
          <ul class="chips">
            <li>
              <a href="/wiki/Cillian_Murphy" title="Cillian Murphy"
                >Cillian Murphy</a
              >
              as J. Robert Oppenheimer
            </li>
            <li>
              <a href="/wiki/Emily_Blunt" title="Emily Blunt">Emily Blunt</a> as
              Katherine "Kitty" Oppenheimer
            </li>
            <li>
              <a href="/wiki/Matt_Damon" title="Matt Damon">Matt Damon</a> as
              Leslie Groves
            </li>
            <li>
              <a href="/wiki/Robert_Downey_Jr." title="Robert Downey Jr."
                >Robert Downey Jr.</a
              >
              as Lewis Strauss
            </li>
            <li>
              <a href="/wiki/Florence_Pugh" title="Florence Pugh"
                >Florence Pugh</a
              >
              as Jean Tatlock
            </li>
          </ul>
        </div>

        <div>
          <h2>Director:</h2>
          <ul class="chips">
            <li>
              <a href="https://en.wikipedia.org/wiki/Christopher_Nolan"
                >Christopher Nolan</a
              >
            </li>
          </ul>
        </div>

        <div class="synopsis" data-compressed="">
          <button id="synopsis-button">expand</button>

          <h2>Synopsis</h2>
          <p>
            Read more:
            <a href="https://en.wikipedia.org/wiki/Cillian_Murphy">
              Click Here.</a
            >
          </p>

          <p>
            Oppenheimer is a 2023 epic biographical thriller film written and
            directed by Christopher Nolan. It is based on the 2005 biography
            American Prometheus by Kai Bird and Martin J. Sherwin about J.
            Robert Oppenheimer, a theoretical physicist who was pivotal in
            developing the first nuclear weapons as part of the Manhattan
            Project and thereby ushering in the Atomic Age. The film stars
            Cillian Murphy as the title character, with a supporting ensemble
            cast including Emily Blunt, Matt Damon, Robert Downey Jr., Florence
            Pugh, Josh Hartnett, Casey Affleck, Rami Malek, and Kenneth Branagh.
            The film is a co-production between Syncopy Inc. and Atlas
            Entertainment, with Nolan producing the film alongside Emma Thomas
            and Charles Roven.
          </p>

          <p>
            The film was announced in September 2021 when Universal Pictures won
            the bidding war. Murphy was the first member of the cast to join,
            signing on to portray Oppenheimer in October, while the main cast
            signed on between November 2021 and April 2022. Pre-production was
            underway by January 2022 and filming began in the following month
            and wrapped that May, with cinematographer Hoyte van Hoytema. It was
            filmed in a combination of IMAX 65mm and 65mm large-format
            film—including, for the first time, sections in IMAX black-and-white
            analog photography. As with his previous works, Nolan utilised
            extensive practical effects and minimal computer-generated imagery.
            In its post-production, editing was completed by Jennifer Lame and
            the score was composed by Ludwig Göransson, as well as visual
            effects provided by DNEG.
          </p>

          <p>
            Oppenheimer premiered at Le Grand Rex in Paris on July 11, 2023 and
            is scheduled to be theatrically released in the United Kingdom and
            United States on July 21, 2023, by Universal Pictures. It is Nolan's
            first film not to be distributed by Warner Bros. Pictures
            domestically or internationally since Memento (2000), as well as his
            first film to receive an R rating since Insomnia (2002).
          </p>
        </div>
      </div>
    </section>
  </body>
  <script>
    const day = document.querySelector('.days');
    const hour = document.querySelector('.hours');
    const minutes = document.querySelector('.minutes');
    const second = document.querySelector('.seconds');

    const releaseDate = new Date('2023-7-21');
    let now = new Date();

    function displayReleased() {
      now = new Date();
      document.querySelector('.release h2').innerHTML = 'Released on:';

      //Removing count down
      console.log('removing');
      document.querySelector('.count-down').remove();

      //Outputing the release date
      const p = document.createElement('p');

      p.innerHTML = `${now.getDate()}, ${getMonth(
        now.getMonth()
      )} ${now.getFullYear()}`;
      document.querySelector('.release').appendChild(p);
    }

    if (releaseDate - now >= 0) {
      setInterval(() => {
        let now = new Date();
        const timeLeft = releaseDate - now;
        /*
        https://www.w3schools.com/howto/howto_js_countdown.asp
         */
        if (timeLeft >= 0) {
          [
            {
              element: day,
              value: Math.floor(timeLeft / (1000 * 60 * 60 * 24)),
            },
            {
              element: hour,
              value: Math.floor(
                (timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
              ),
            },
            {
              element: minutes,
              value: Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60)),
            },
            {
              element: second,
              value: Math.floor((timeLeft % (1000 * 60)) / 1000),
            },
          ].forEach(({ element, value }) => (element.innerHTML = value));
        } else {
          displayReleased();
        }
      }, 1000);
    } else {
      displayReleased();
    }

    // Read more expansion
    const expandBtn = document.querySelector('#synopsis-button');
    const synopsis = document.querySelector('.synopsis');
    expandBtn.addEventListener('click', () => {
      const isCompressed = synopsis.hasAttribute('data-compressed');
      console.log(isCompressed);

      if (isCompressed) {
        synopsis.removeAttribute('data-compressed');
        expandBtn.innerHTML = 'compress';
      } else {
        synopsis.setAttribute('data-compressed', '');
        expandBtn.innerHTML = 'expand';
      }
      console.log(synopsis);
    });

    function getMonth(month) {
      switch (month) {
        case 0:
          return 'January';

        case 1:
          return 'February';

        case 2:
          return 'March';

        case 3:
          return 'April';

        case 4:
          return 'May';

        case 5:
          return 'June';

        case 6:
          return 'July';

        case 7:
          return 'August';

        case 8:
          return 'September';

        case 9:
          return 'October';

        case 10:
          return 'November';

        case 11:
          return 'December';
        default:
          return 'Uknown value';
          break;
      }
    }
  </script>
</html>
